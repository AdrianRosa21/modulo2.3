<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creación de Formularios con JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .contact {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        #view {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 5px;
        }
    </style>
</head>
<body class="container">
    <header class="text-center my-4">
        <h1>Creación de formularios usando JavaScript</h1>
    </header>
    
    <section>
        <article id="design">
            <form name="frmconf" id="form" class="contact">
                <fieldset class="contact-inner">
                    <div class="mb-3">
                        <label for="selcontrol" class="form-label">Tipo de Control</label>
                        <select name="selcontrol" id="selcontrol" class="form-select" required>
                            <option value="" selected disabled>Seleccione un control</option>
                            <option value="text">Cuadro de texto</option>
                            <option value="password">Contraseña</option>
                            <option value="textarea">Cuadro de texto largo</option>
                            <option value="checkbox">Selecciones múltiples</option>
                            <option value="radio">Botones de opción</option>
                            <option value="file">Archivos</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="txtnum" class="form-label">Número de Controles</label>
                        <input type="number" name="txtnum" id="txtnum" class="form-control" 
                               min="1" max="10" required placeholder="Ej: 3">
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Generar Formulario</button>
                    </div>
                </fieldset>
            </form>
        </article>
        
        <article id="view" class="mt-4"></article>
    </section>

    <script>
        function init() {
            var form = document.getElementById("form");
            form.onsubmit = function(e) {
                e.preventDefault();
                var control = document.frmconf.selcontrol.value;
                var numero = document.frmconf.txtnum.value;
                
                if (!control || !numero) {
                    alert("Por favor seleccione un control e ingrese un número válido");
                    return;
                }
                
                createform(control, parseInt(numero));
            }
        }

        function createform(control, numero) {
            var htmlform = "";
            var formview = document.getElementById("view");
            
            htmlform = `<div class="container p-4 border rounded">
                        <form class="generated-form">
                        <fieldset class="form-group">
                        <legend class="fw-bold"><span class="number">1</span> Formulario generado con JS</legend>`;
            
            switch(control) {
                case "text":
                case "password":
                    for(let i = 0; i < numero; i++) {
                        htmlform += `<div class="mb-3">
                                    <label class="form-label">${control} ${i+1}</label>
                                    <input type="${control}" name="${control}${i+1}" 
                                           class="form-control" placeholder="Ingrese ${control}" required>
                                    </div>`;
                    }
                    break;
                
                case "textarea":
                    for(let i = 0; i < numero; i++) {
                        htmlform += `<div class="mb-3">
                                    <label class="form-label">${control} ${i+1}</label>
                                    <textarea name="${control}${i+1}" class="form-control" 
                                              placeholder="Ingrese texto" rows="3" required></textarea>
                                    </div>`;
                    }
                    break;
                    
                case "checkbox":
                    for(let i = 0; i < numero; i++) {
                        htmlform += `<div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" 
                                           name="${control}${i+1}" id="${control}${i+1}">
                                    <label class="form-check-label" for="${control}${i+1}">
                                        Opción ${i+1}
                                    </label>
                                    </div>`;
                    }
                    break;
                    
                case "radio":
                    for(let i = 0; i < numero; i++) {
                        htmlform += `<div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" 
                                           name="radioGroup" id="${control}${i+1}" value="${control}${i+1}">
                                    <label class="form-check-label" for="${control}${i+1}">
                                        Opción ${i+1}
                                    </label>
                                    </div>`;
                    }
                    break;
                    
                case "file":
                    for(let i = 0; i < numero; i++) {
                        htmlform += `<div class="mb-3">
                                    <label class="form-label">Subir archivo ${i+1}</label>
                                    <input type="file" name="${control}${i+1}" class="form-control">
                                    </div>`;
                    }
                    break;
                    
                default:
                    alert("Control no reconocido");
                    return;
            }
            
            htmlform += `</fieldset></form></div>`;
            formview.innerHTML = htmlform;
        }

        window.onload = init;
    </script>
</body>
</html>